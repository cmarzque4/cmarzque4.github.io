<!DOCTYPE html>
<html lang="ca">
<link rel="icon" type="image/png" href="logo.jpg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web de Carla</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --blue-dark: #023e8a;
      --blue-mid: #0077b6;
      --blue-light: #90e0ef;
      --blue-extra-light: #e0f7fa;
      --white: #ffffff;
      --shadow: rgba(0, 119, 182, 0.15);
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom, var(--blue-extra-light), var(--white));
      color: var(--blue-dark);
    }

    header {
      background: linear-gradient(to right, var(--blue-dark), var(--blue-mid));
      color: var(--white);
      padding: 1.2rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 3px 10px var(--shadow);
    }

    .logo {
      font-size: 1.8rem;
      font-weight: bold;
    }

    .logo a {
  color: white; /* o un altre color amb contrast */
  font-size: 1.8rem;
  font-weight: bold;
  text-decoration: none;
}

  .logo a {
  opacity: 1;
}

    nav a {
      margin-left: 2rem;
      color: var(--white);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: var(--white);
    }

    main {
      max-width: 960px;
      margin: 2.5rem auto;
      padding: 2rem;
      background: var(--white);
      border-radius: 14px;
      box-shadow: 0 8px 20px var(--shadow);
    }

    h1 {
      font-size: 2.5rem;
      text-align: center;
      color: var(--blue-mid);
      margin-bottom: 1.5rem;
    }

    p {
      font-size: 1.1rem;
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }

    a {
      color: var(--blue-mid);
      font-weight: bold;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .projectes {
      display: grid;
      gap: 1.2rem;
    }

    .projecte {
      background: var(--blue-light);
      padding: 1rem 1.5rem;
      border-left: 5px solid var(--blue-dark);
      border-radius: 10px;
      box-shadow: 0 4px 10px var(--shadow);
      transition: transform 0.3s ease, background 0.3s ease;
    }

    .projecte:hover {
      transform: translateY(-5px);
      background: #caf0f8;
    }

    .emoji {
      margin-right: 0.5rem;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }

      nav {
        margin-top: 1rem;
      }

      nav a {
        display: block;
        margin: 0.4rem 0;
      }

      main {
        margin: 1rem;
      }
    }

    .dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: var(--white);
  min-width: 160px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 6px;
  margin-top: 0.5rem;
}

.dropdown-content a {
  color: var(--blue-dark);
  padding: 10px 16px;
  text-decoration: none;
  display: block;
  transition: background 0.2s;
}

.dropdown-content a:hover {
  background-color: var(--blue-light);
}

.dropdown:hover .dropdown-content {
  display: block;
}

.dropdown-content {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: all 0.4s ease;
  position: absolute;
  background-color: var(--white);
  min-width: 160px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 6px;
  margin-top: 0.5rem;
  padding: 0; /* inicialment sense padding */
}

.dropdown-content a {
  color: var(--blue-dark);
  padding: 10px 16px;
  text-decoration: none;
  display: block;
  transition: background 0.2s ease;
}

.dropdown-content a:hover {
  background-color: var(--blue-light);
}

.dropdown:hover .dropdown-content {
  max-height: 500px; /* prou espai per mostrar tot */
  opacity: 1;
  padding: 0.5rem 0;
}

.dropdown-content {
  max-height: 0;
  opacity: 0;
  visibility: hidden;
  overflow: hidden;
  transition: max-height 0.4s ease, opacity 0.4s ease, visibility 0.4s;
  position: absolute;
  background-color: var(--white);
  min-width: 160px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 6px;
  margin-top: 0.5rem;
  padding: 0;
}

.dropdown-content a {
  color: var(--blue-dark);
  padding: 10px 16px;
  text-decoration: none;
  display: block;
  transition: background 0.2s ease;
}

.dropdown-content a:hover {
  background-color: var(--blue-light);
}

/* Quan el ratolí passa per sobre, desplega el menú */
.dropdown:hover .dropdown-content {
  max-height: 500px;
  opacity: 1;
  visibility: visible;
  padding: 0.5rem 0;
  transition-delay: 0s;
}

/* Quan surt el cursor, que trigui a desaparèixer */
.dropdown:not(:hover) .dropdown-content {
  transition-delay: 0.2s;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: var(--white);
  min-width: 160px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  margin-top: 0.5rem;
  z-index: 1;
  padding: 0.5rem 0;
}

.dropdown-content.show {
  display: block;
}

.dropdown-content a {
  color: var(--blue-dark); /* o directament: #023e8a, #111, etc. */
  text-decoration: none;
  font-weight: 600;
}

.dropdown-content a:hover {
  background-color: #ade8f4; /* un blau clar que contrasti */
  color: var(--blue-dark); /* manté la visibilitat en hover */
}

.dropdown-content {
  background-color: white;
  padding: 0; /* <- això és clau */
  margin: 0;
  display: none;
  position: absolute;
  min-width: 160px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  z-index: 1;
}

.dropdown-content a {
  padding: 10px 16px;
  margin: 0;
  display: block;
  background-color: white;
}

.dropdown-content * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.logo-container {
  display: flex;
  align-items: center;
  gap: 10px; /* espacio entre logo y texto */
}

.logo {
  height: 50px; /* o ajusta al tamaño deseado */
}

.logo-text {
  font-size: 1.5rem;
  color: white;
  font-weight: bold;
}

.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #005fa3;
  padding: 10px 20px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 10px; /* espacio entre logo y texto */
}

.logo {
  height: 50px; /* ajusta según tamaño del logo */
}

.brand-text {
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
}

.nav-links {
  display: flex;
  list-style: none;
  gap: 20px;
  margin: 0;
  padding: 0;
}

.nav-links a {
  color: white;
  text-decoration: none;
  font-weight: 500;
}

    
  </style>
</head>

<!-- Navbar -->

<body>

<script>
  let closeTimeout;

  function openDropdown(element) {
    clearTimeout(closeTimeout);
    const menu = element.querySelector('.dropdown-content');
    menu.classList.add('show');
  }

  function closeDropdown(element) {
    const menu = element.querySelector('.dropdown-content');
    closeTimeout = setTimeout(() => {
      menu.classList.remove('show');
    }, 300); // Espera 300ms abans de tancar
  }
</script>

  
  <header>
    
<div class="brand">
  <a href="https://agora.xtec.cat/ies-pompeu-fabra-martorell/" style="display: flex; align-items: center; text-decoration: none;">
    <img src="pompeu.png" alt="Logo" class="logo">
  </a>
    <a span href="https://cmarzque4.github.io/" class="brand-text"> Web de Carla</span>
  </a>
</div>

    <nav>
      <a href="https://cmarzque4.github.io/">Inici</a>

      
  <div class="dropdown" onmouseenter="openDropdown(this)" onmouseleave="closeDropdown(this)">
  <a href="#"> Braç robòtic ▾</a>
    <div class="dropdown-content">
      <a href="https://cmarzque4.github.io/robotica/cdirecta">Cinemàtica directa</a>
      <a href="https://cmarzque4.github.io/robotica/cinversa">Cinemàtica inversa</a>
      <a href="https://cmarzque4.github.io/robotica/projecte%201">Projecte</a>
      <a href="https://www.tinkercad.com/things/4H1zJ3NW7Ea-magnificent-snaget">Projecte Tinkercard</a>
    </div>
  </div>
      
  <div class="dropdown" onmouseenter="openDropdown(this)" onmouseleave="closeDropdown(this)">
    <a href="#"> Arduino ▾</a>
    <div class="dropdown-content">
      <a href="https://cmarzque4.github.io/robotica/arduino/index.html">Teoria Arduino</a>
      <a href="https://cmarzque4.github.io/robotica/arduino/programacio">Programació</a>
      <a href="https://cmarzque4.github.io/robotica/arduino/configuracio">Configuració</a>
    </div>
  </div>
      <a href="https://cmarzque4.github.io/robotica/fractal/">Fractals</a>
      <a href="https://cmarzque4.github.io/robotica/arduino/musica">Música</a>
      <a href="https://cmarzque4.github.io/robotica/arduino/projecte">Projecte final</a>
    </nav>
  </header>


<!-- Contingut principal -->
<main>
  <div style="text-align: center;">
<h1> PROJECTE MÚSICA </h1>
  </div>
<p> La instrucció més important per fer música amb Arduino és "tone" i té 3 arguments (3r optatiu):</p>
<ul>
  <li> El primer argument és 'el pin', la posició de l'Arduino en la qual connecto: Pin 8 o Pin 4 </li>
  <li> El segon argument és 'la freqüència' i s'expressa en Herz </li>
  <li> El tercer argument és optatiu i és 'el temps de durada' </li>
</ul>
  <div style="text-align: center;">
  <h2> Escala tone d'Arduino</h2>
  <br>
<img src = "arduino_music.webp">
  <br>
  <p> ----------------------------------------------</p>
  <br>
  <h2> Escala de notes internacionals</h2>
  <br>
<img src = "notas.jpg">
  <br>
  <br>
  <p> ----------------------------------------------</p>
  <br>
  <h2> Patitura Harry Potter</h2>
  <br>
<img src = "partitura_harry.webp"
  <br>
  </div>

 <div style="text-align: center;">
  <h2>Codi referencial fet a classe</h2>
 </div>
  
  <pre><button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button><code class="language-arduino">

//sketch 07-03

void setup()
{
  tone(4, 500);
}

void loop() {}
    
         
        #define NOTE_B4 493.883
        #define NOTE_E5 659.255
        #define NOTE_G5 783.991
        #define NOTE_#F5 739.989
        #define NOTE_B5 987.767
        #define NOTE_A5 880.000
        #define NOTE_#D5 622.254
        #define NOTE_F5 698.456
        #define NOTE_D6 1174.66
        #define NOTE_#C6 1108.73
        #define NOTE_C6 1046.50
    
    int harrypotter[]{
        NOTE_B4, NOTE_E5, NOTE_G5, NOTE_#F5, NOTE_E5, NOTE_B5, NOTE_A5, NOTE_#F5,
        NOTE_E5, NOTE_G5, NOTE_#F5, NOTE_#D5, NOTE_F5, NOTE_B4,  NOTE_B4,  NOTE_B4, 
        NOTE_E5, NOTE_G5, NOTE_#F5, NOTE_E5, NOTE_B5, NOTE_D6, NOTE_#C6,
        NOTE_C6
        
    }

    int durades[]{
        100, 150, 50, 100, 200, 100, 300, 300,
        150, 50, 100, 200, 100, 300, 200, 100, 
        150, 50, 100, 200, 100, 200, 100,
        200, 
    
    }
    void setup(){
    
        }

        void loop() {
    int numNotes= sizeof(harrypotter)/sizeof(harrypotter[0]), 
    //Calculem el número de notes dividint el número de bytes totals de la canço que ho calcula la funció "sizeof" entre el número 
    de bytes de una de les notes (en aquest cas la primera). En aquest exemple tenim 5 notes i cada nota ocuparà un número enter
    que es igual a 2 bytes en arduino. Per tant harry potter ocupa 10 bytes que dividit entre el tamany de la primera nota que son 
    2 bytes dona 5 notes musicals. El número 5 el guardem a la variable numNotes.
    // L'avantatge que té aquest codi és que sempre contarà les notes i puc canviar quan vulgi la cançó
        }

  </code></pre>

 <div style="text-align: center;">
  <h2>Després vam transformar el codi base en un codi funcional per a Arduino IDE</h2>
 </div>
 <pre><button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button><code class="language-arduino">

// Definimos las frecuencias de las notas (en Hz)
   double  B4 = 493.883;
   double  E5 = 659.255;
   double  G5 = 783.991;
   double  XF5 = 739.989;
   double  B5 = 987.767;
   double  A5 = 880.000;
   double  XD5 = 622.254;
   double  F5 = 698.456;
   double  D6 = 1174.66;
   double  XC6 = 1108.73;
   double  C6 = 1046.50;
   double  P = 0; // pausa

// Duraciones de las notas (en milisegundos)
int bp = 300; // blanca amb punt
int b = 200; // blanca
int np = 150; // negra amb punt
int n = 100;  // negra
int c = 50;  // corchea
int s = 25;  // semicorchea

// Melodía (frecuencias)
double potter[] = {
 B4, E5, G5, XF5, E5, B5, A5, XF5,
 E5, G5, XF5, XD5, F5, B4,  B4,  B4, 
 E5, G5, XF5, E5, B5, D6, XC6,
 C6
};

// Duración de cada nota correspondiente
int duracioNota[] = {
   n, np, c, n, b, n, bp, bp,
   np, c, n, b, n, bp, b, n, 
   np, c, n, b, n, b, n,
   b, 
};

void setup() {
  // Nada en setup
}

void loop() {
  int numNotas = sizeof(potter) / sizeof(potter[0]);

  for (int i = 0; i < numNotas; i++) {
    if (potter[i] > 0) {
      tone(8, potter[i]); //
    }
    delay(duracioNota[i]);
    noTone(8);
    delay(50); // pequeña pausa entre notas
  }

  delay(2000); // espera antes de repetir la melodía
}
</code></pre>
</main>
</body>
</html>
